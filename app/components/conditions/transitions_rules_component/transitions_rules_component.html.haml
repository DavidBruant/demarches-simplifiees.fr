.flex.justify-start.section{ id: dom_id(@revision, :transitions_rules) }
  = form_tag admin_procedure_transitions_rules_path(@revision.procedure_id), method: :patch, data: { turbo: true, controller: 'autosave' }, class: 'form width-100' do
    - if @condition.present?
      .conditionnel.mt-2.width-100
        %table.condition-table.mt-2
          %thead
            %tr
            %th.far-left
            %th.target Champ Cible
            %th.operator Opérateur
            %th.value Valeur
            %th.delete-column
          %tbody
            - rows.each.with_index do |(targeted_champ, operator_name, value), row_index|
              %tr
                %td.far-left= far_left_tag(row_index)
                %td.target= left_operand_tag(targeted_champ, row_index)
                %td.operator= operator_tag(operator_name, targeted_champ, row_index)
                %td.value= right_operand_tag(targeted_champ, value, row_index, operator_name)
                %td.delete-column= delete_condition_tag(row_index)

        = add_condition_tag
    - else
      = tag.button "Activer l'éligibilité des dossiers", formaction: add_condition_path, formvalidate: true, class: 'fr-btn fr-btn--primary'